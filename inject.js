(()=>{"use strict";var o,r="https://api.lumaly.de/",a="https://lumaly.de";"".concat(r,"api/lead/track/install"),"".concat(r,"api/lead/track/uninstall"),"".concat(a,"/discover"),"".concat(a,"/discover-smart");!function(o){o.MESSAGING="background: gold; color: black;",o.COMPONENTS="color: SteelBlue;",o.API="background: crimson; color: white; font-weight: bold; padding: 0 10px;",o.BROWSER="background: sienna; color: white",o.HIJACK="color: SandyBrown",o.AFFILIATE="color: #025450;",o.EBAY="color: #86B817",o.SHOP_ENGINE="background: black; color: green; padding: 15px; border-radius: 5px",o.SHOP_EXCEPTION="color:#fff;background:red;padding:5px;border-radius:8px",o.SHOP_RCT="background: #e46d2d; color: #fff; padding: 5px; border-radius: 5px",o.SHOP_INFO="color: CadetBlue; font-style: italic;",o.WISHLIST="color: CadetBlue; font-weight: bold;",o.SHOP_WARN="color: IndianRed; font-style: italic;",o.REDIRECT="color: white; background: darkolivegreen; padding: 0 8px;",o.BASKET_TOTAL="background: #aef8c0; color: black; padding: 5px; border-radius: 5px",o.BASKET_DISCOUNT="background: salmon; color: black; padding: 5px; border-radius: 5px",o.RESCHEDULING="font-style: italic; color: DarkGoldenRod",o.NETWORK="color: silver; font-style: italic;",o.BUILD="color: SlateGray; font-style: italic;",o.LOW_WARNING="color: gainsboro; font-style: italic;"}(o||(o={}));var devLog=function(o){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a]},getExchangeAttributeFromId=function(o){return"lumalyExchange_".concat(Math.round(o).toString(36))},exchangeDataToExtension=function(o){var r=getExchangeAttributeFromId(o.id);document.body.dataset[r]=JSON.stringify(o)};devLog("Injection loaded");window.addEventListener("lumalyExchangeToWeb",(function(o){var r,a=o.detail,n=a.id,t=a.key,e=a.target,c=t.split(".").filter((function(o){return o}));try{r=window[e];for(var l=0,d=c;l<d.length;l++){r=r[d[l]]}}catch(o){var i=String(o||"generic");devLog("exchangeListenerToWeb error:",{key:i}),exchangeDataToExtension({id:n,error:i})}exchangeDataToExtension({id:n,value:r})}))})();